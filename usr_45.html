---
layout: vimdoc
helpname: 'usr_45'
---
<div id='vimCodeElement'>
<a class="Constant" href="usr_45.html" name="usr_45.txt">usr_45.txt</a>&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim version 8.2.</span>&nbsp;&nbsp;Last change: 2020 Jun 11<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VIM USER MANUAL - by Bram Moolenaar<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Select your language (locale)<br>
<br>
<br>
The messages in Vim can be given in several languages.&nbsp;&nbsp;This chapter explains<br>
how to change which one is used.&nbsp;&nbsp;Also, the different ways to work with files<br>
in various languages is explained.<br>
<br>
<a class="Identifier" href="usr_45.html#45.1">45.1</a>&nbsp;&nbsp;Language for Messages<br>
<a class="Identifier" href="usr_45.html#45.2">45.2</a>&nbsp;&nbsp;Language for Menus<br>
<a class="Identifier" href="usr_45.html#45.3">45.3</a>&nbsp;&nbsp;Using another encoding<br>
<a class="Identifier" href="usr_45.html#45.4">45.4</a>&nbsp;&nbsp;Editing files with a different encoding<br>
<a class="Identifier" href="usr_45.html#45.5">45.5</a>&nbsp;&nbsp;Entering language text<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp; Next chapter:&nbsp;<a class="Identifier" href="usr_46.html">usr_46.txt</a>&nbsp;&nbsp;Write plugins using Vim9 script<br>
&nbsp;Previous chapter:&nbsp;<a class="Identifier" href="usr_44.html">usr_44.txt</a>&nbsp;&nbsp;Your own syntax highlighted<br>
Table of contents:&nbsp;<a class="Identifier" href="usr_toc.html">usr_toc.txt</a><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_45.html#45.1" name="45.1">45.1</a>&nbsp;&nbsp;Language for Messages<br>
<br>
When you start Vim, it checks the environment to find out what language you<br>
are using.&nbsp;&nbsp;Mostly this should work fine, and you get the messages in your<br>
language (if they are available).&nbsp;&nbsp;To see what the current language is, use<br>
this command:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:language</div>
<br>
If it replies with &quot;C&quot;, this means the default is being used, which is<br>
English.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using different languages only works when Vim was compiled to handle<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it.&nbsp;&nbsp;To find out if it works, use the &quot;:version&quot; command and check the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output for &quot;+gettext&quot; and &quot;+multi_lang&quot;.&nbsp;&nbsp;If they are there, you are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OK.&nbsp;&nbsp;If you see &quot;-gettext&quot; or &quot;-multi_lang&quot; you will have to find<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;another Vim.<br>
<br>
What if you would like your messages in a different language?&nbsp;&nbsp;There are<br>
several ways.&nbsp;&nbsp;Which one you should use depends on the capabilities of your<br>
system.<br>
&nbsp;&nbsp; The first way is to set the environment to the desired language before<br>
starting Vim.&nbsp;&nbsp;Example for Unix:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env LANG=de_DE.ISO_8859-1&nbsp;&nbsp;vim</div>
<br>
This only works if the language is available on your system.&nbsp;&nbsp;The advantage is<br>
that all the GUI messages and things in libraries will use the right language<br>
as well.&nbsp;&nbsp;A disadvantage is that you must do this before starting Vim.&nbsp;&nbsp;If you<br>
want to change language while Vim is running, you can use the second method:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:language fr_FR.ISO_8859-1</div>
<br>
This way you can try out several names for your language.&nbsp;&nbsp;You will get an<br>
error message when it's not supported on your system.&nbsp;&nbsp;You don't get an error<br>
when translated messages are not available.&nbsp;&nbsp;Vim will silently fall back to<br>
using English.<br>
&nbsp;&nbsp; To find out which languages are supported on your system, find the<br>
directory where they are listed.&nbsp;&nbsp;On my system it is &quot;/usr/share/locale&quot;.&nbsp;&nbsp;On<br>
some systems it's in &quot;/usr/lib/locale&quot;.&nbsp;&nbsp;The manual page for &quot;setlocale&quot;<br>
should give you a hint where it is found on your system.<br>
&nbsp;&nbsp; Be careful to type the name exactly as it should be.&nbsp;&nbsp;Upper and lowercase<br>
matter, and the '-' and '_' characters are easily confused.<br>
<br>
You can also set the language separately for messages, edited text and the<br>
time format.&nbsp;&nbsp;See&nbsp;<a class="Identifier" href="mlang.html#:language">:language</a>.<br>
<br>
<br>
DO-IT-YOURSELF MESSAGE TRANSLATION<br>
<br>
If translated messages are not available for your language, you could write<br>
them yourself.&nbsp;&nbsp;To do this, get the source code for Vim and the GNU gettext<br>
package.&nbsp;&nbsp;After unpacking the sources, instructions can be found in the<br>
directory src/po/README.txt.<br>
&nbsp;&nbsp; It's not too difficult to do the translation.&nbsp;&nbsp;You don't need to be a<br>
programmer.&nbsp;&nbsp;You must know both English and the language you are translating<br>
to, of course.<br>
&nbsp;&nbsp; When you are satisfied with the translation, consider making it available<br>
to others.&nbsp;&nbsp;Upload it at vim-online (<span class="Constant"><a href="http://vim.sf.net">http://vim.sf.net</a></span>) or e-mail it to<br>
the Vim maintainer &lt;maintainer@vim.org&gt;.&nbsp;&nbsp;Or both.<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_45.html#45.2" name="45.2">45.2</a>&nbsp;&nbsp;Language for Menus<br>
<br>
The default menus are in English.&nbsp;&nbsp;To be able to use your local language, they<br>
must be translated.&nbsp;&nbsp;Normally this is automatically done for you if the<br>
environment is set for your language, just like with messages.&nbsp;&nbsp;You don't need<br>
to do anything extra for this.&nbsp;&nbsp;But it only works if translations for the<br>
language are available.<br>
&nbsp;&nbsp; Suppose you are in Germany, with the language set to German, but prefer to<br>
use &quot;File&quot; instead of &quot;Datei&quot;.&nbsp;&nbsp;You can switch back to using the English menus<br>
this way:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set langmenu=none</div>
<br>
It is also possible to specify a language:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set langmenu=nl_NL.ISO_8859-1</div>
<br>
Like above, differences between &quot;-&quot; and &quot;_&quot; matter.&nbsp;&nbsp;However, upper/lowercase<br>
differences are ignored here.<br>
&nbsp;&nbsp; The&nbsp;<a class="Type" href="options.html#'langmenu'">'langmenu'</a>&nbsp;option must be set before the menus are loaded.&nbsp;&nbsp;Once the<br>
menus have been defined changing&nbsp;<a class="Type" href="options.html#'langmenu'">'langmenu'</a>&nbsp;has no direct effect.&nbsp;&nbsp;Therefore,<br>
put the command to set&nbsp;<a class="Type" href="options.html#'langmenu'">'langmenu'</a>&nbsp;in your vimrc file.<br>
&nbsp;&nbsp; If you really want to switch menu language while running Vim, you can do it<br>
this way:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:source $VIMRUNTIME/delmenu.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set langmenu=de_DE.ISO_8859-1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:source $VIMRUNTIME/menu.vim</div>
<br>
There is one drawback: All menus that you defined yourself will be gone.&nbsp;&nbsp;You<br>
will need to redefine them as well.<br>
<br>
<br>
DO-IT-YOURSELF MENU TRANSLATION<br>
<br>
To see which menu translations are available, look in this directory:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">$VIMRUNTIME/lang</span><br>
<br>
The files are called menu_<span class="Special">{language}</span>.vim.&nbsp;&nbsp;If you don't see the language you<br>
want to use, you can do your own translations.&nbsp;&nbsp;The simplest way to do this is<br>
by copying one of the existing language files, and change it.<br>
&nbsp;&nbsp; First find out the name of your language with the &quot;:language&quot; command.&nbsp;&nbsp;Use<br>
this name, but with all letters made lowercase.&nbsp;&nbsp;Then copy the file to your<br>
own runtime directory, as found early in&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>.&nbsp;&nbsp;For example, for Unix<br>
you would do:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!cp $VIMRUNTIME/lang/menu_ko_kr.euckr.vim ~/.vim/lang/menu_nl_be.iso_8859-1.vim</div>
<br>
You will find hints for the translation in &quot;$VIMRUNTIME/lang/README.txt&quot;.<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_45.html#45.3" name="45.3">45.3</a>&nbsp;&nbsp;Using another encoding<br>
<br>
Vim guesses that the files you are going to edit are encoded for your<br>
language.&nbsp;&nbsp;For many European languages this is &quot;latin1&quot;.&nbsp;&nbsp;Then each byte is<br>
one character.&nbsp;&nbsp;That means there are 256 different characters possible.&nbsp;&nbsp;For<br>
Asian languages this is not sufficient.&nbsp;&nbsp;These mostly use a double-byte<br>
encoding, providing for over ten thousand possible characters.&nbsp;&nbsp;This still<br>
isn't enough when a text is to contain several different languages.&nbsp;&nbsp;This is<br>
where Unicode comes in.&nbsp;&nbsp;It was designed to include all characters used in<br>
commonly used languages.&nbsp;&nbsp;This is the &quot;Super encoding that replaces all<br>
others&quot;.&nbsp;&nbsp;But it isn't used that much yet.<br>
&nbsp;&nbsp; Fortunately, Vim supports these three kinds of encodings.&nbsp;&nbsp;And, with some<br>
restrictions, you can use them even when your environment uses another<br>
language than the text.<br>
&nbsp;&nbsp; Nevertheless, when you only edit files that are in the encoding of your<br>
language, the default should work fine and you don't need to do anything.&nbsp;&nbsp;The<br>
following is only relevant when you want to edit different languages.<br>
<br>
<br>
USING UNICODE IN THE GUI<br>
<br>
The nice thing about Unicode is that other encodings can be converted to it<br>
and back without losing information.&nbsp;&nbsp;When you make Vim use Unicode<br>
internally, you will be able to edit files in any encoding.<br>
&nbsp;&nbsp; Unfortunately, the number of systems supporting Unicode is still limited.<br>
Thus it's unlikely that your language uses it.&nbsp;&nbsp;You need to tell Vim you want<br>
to use Unicode, and how to handle interfacing with the rest of the system.<br>
&nbsp;&nbsp; Let's start with the GUI version of Vim, which is able to display Unicode<br>
characters.&nbsp;&nbsp;This should work:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set encoding=utf-8<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guifont=-misc-fixed-medium-r-normal--18-120-100-100-c-90-iso10646-1</div>
<br>
The&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;option tells Vim the encoding of the characters that you use.<br>
This applies to the text in buffers (files you are editing), registers, Vim<br>
script files, etc.&nbsp;&nbsp;You can regard&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;as the setting for the internals<br>
of Vim.<br>
&nbsp;&nbsp; This example assumes you have this font on your system.&nbsp;&nbsp;The name in the<br>
example is for the X Window System.&nbsp;&nbsp;This font is in a package that is used to<br>
enhance xterm with Unicode support.&nbsp;&nbsp;If you don't have this font, you might<br>
find it here:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www.cl.cam.ac.uk/~mgk25/download/ucs-fonts.tar.gz">http://www.cl.cam.ac.uk/~mgk25/download/ucs-fonts.tar.gz</a></span>&nbsp;<br>
<br>
For MS-Windows, some fonts have a limited number of Unicode characters.&nbsp;&nbsp;Try<br>
using the &quot;Courier New&quot; font.&nbsp;&nbsp;You can use the Edit/Select Font... menu to<br>
select and try out the fonts available.&nbsp;&nbsp;Only fixed-width fonts can be used<br>
though.&nbsp;&nbsp;Example:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guifont=courier_new:h12</div>
<br>
If it doesn't work well, try getting a fontpack.&nbsp;&nbsp;If Microsoft didn't move it,<br>
you can find it here:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www.microsoft.com/typography/fonts/default.aspx">http://www.microsoft.com/typography/fonts/default.aspx</a></span>&nbsp;<br>
<br>
Now you have told Vim to use Unicode internally and display text with a<br>
Unicode font.&nbsp;&nbsp;Typed characters still arrive in the encoding of your original<br>
language.&nbsp;&nbsp;This requires converting them to Unicode.&nbsp;&nbsp;Tell Vim the language<br>
from which to convert with the&nbsp;<a class="Type" href="options.html#'termencoding'">'termencoding'</a>&nbsp;option.&nbsp;&nbsp;You can do it like<br>
this:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let &amp;termencoding = &amp;encoding<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set encoding=utf-8</div>
<br>
This assigns the old value of&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;to&nbsp;<a class="Type" href="options.html#'termencoding'">'termencoding'</a>&nbsp;before setting<br>
<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;to utf-8.&nbsp;&nbsp;You will have to try out if this really works for your<br>
setup.&nbsp;&nbsp;It should work especially well when using an input method for an Asian<br>
language, and you want to edit Unicode text.<br>
<br>
<br>
USING UNICODE IN A UNICODE TERMINAL<br>
<br>
There are terminals that support Unicode directly.&nbsp;&nbsp;The standard xterm that<br>
comes with XFree86 is one of them.&nbsp;&nbsp;Let's use that as an example.<br>
&nbsp;&nbsp; First of all, the xterm must have been compiled with Unicode support.&nbsp;&nbsp;See<br>
<a class="Identifier" href="mbyte.html#UTF8-xterm">UTF8-xterm</a>&nbsp;how to check that and how to compile it when needed.<br>
&nbsp;&nbsp; Start the xterm with the &quot;-u8&quot; argument.&nbsp;&nbsp;You might also need so specify a<br>
font.&nbsp;&nbsp;Example:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; xterm -u8 -fn -misc-fixed-medium-r-normal--18-120-100-100-c-90-iso10646-1</div>
<br>
Now you can run Vim inside this terminal.&nbsp;&nbsp;Set&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;to &quot;utf-8&quot; as<br>
before.&nbsp;&nbsp;That's all.<br>
<br>
<br>
USING UNICODE IN AN ORDINARY TERMINAL<br>
<br>
Suppose you want to work with Unicode files, but don't have a terminal with<br>
Unicode support.&nbsp;&nbsp;You can do this with Vim, although characters that are not<br>
supported by the terminal will not be displayed.&nbsp;&nbsp;The layout of the text<br>
will be preserved.&nbsp;<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let &amp;termencoding = &amp;encoding<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set encoding=utf-8</div>
<br>
This is the same as what was used for the GUI.&nbsp;&nbsp;But it works differently: Vim<br>
will convert the displayed text before sending it to the terminal.&nbsp;&nbsp;That<br>
avoids that the display is messed up with strange characters.<br>
&nbsp;&nbsp; For this to work the conversion between&nbsp;<a class="Type" href="options.html#'termencoding'">'termencoding'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;must<br>
be possible.&nbsp;&nbsp;Vim will convert from latin1 to Unicode, thus that always works.<br>
For other conversions the&nbsp;<a class="Identifier" href="various.html#+iconv">+iconv</a>&nbsp;feature is required.<br>
&nbsp;&nbsp; Try editing a file with Unicode characters in it.&nbsp;&nbsp;You will notice that Vim<br>
will put a question mark (or underscore or some other character) in places<br>
where a character should be that the terminal can't display.&nbsp;&nbsp;Move the cursor<br>
to a question mark and use this command:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ga</div>
<br>
Vim will display a line with the code of the character.&nbsp;&nbsp;This gives you a hint<br>
about what character it is.&nbsp;&nbsp;You can look it up in a Unicode table.&nbsp;&nbsp;You could<br>
actually view a file that way, if you have lots of time at hand.<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Since&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is used for all text inside Vim, changing it makes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all non-ASCII text invalid.&nbsp;&nbsp;You will notice this when using registers<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and the&nbsp;<a class="Type" href="options.html#'viminfo'">'viminfo'</a>&nbsp;file (e.g., a remembered search pattern).&nbsp;&nbsp;It's<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recommended to set&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;in your vimrc file, and leave it alone.<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_45.html#45.4" name="45.4">45.4</a>&nbsp;&nbsp;Editing files with a different encoding<br>
<br>
Suppose you have setup Vim to use Unicode, and you want to edit a file that is<br>
in 16-bit Unicode.&nbsp;&nbsp;Sounds simple, right?&nbsp;&nbsp;Well, Vim actually uses utf-8<br>
encoding internally, thus the 16-bit encoding must be converted, since there<br>
is a difference between the character set (Unicode) and the encoding (utf-8 or<br>
16-bit).<br>
&nbsp;&nbsp; Vim will try to detect what kind of file you are editing.&nbsp;&nbsp;It uses the<br>
encoding names in the&nbsp;<a class="Type" href="options.html#'fileencodings'">'fileencodings'</a>&nbsp;option.&nbsp;&nbsp;When using Unicode, the default<br>
value is: &quot;ucs-bom,utf-8,latin1&quot;.&nbsp;&nbsp;This means that Vim checks the file to see<br>
if it's one of these encodings:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ucs-bom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; File must start with a Byte Order Mark (BOM).&nbsp;&nbsp;This<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allows detection of 16-bit, 32-bit and utf-8 Unicode<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encodings.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;utf-8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; utf-8 Unicode.&nbsp;&nbsp;This is rejected when a sequence of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bytes is illegal in utf-8.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;latin1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The good old 8-bit encoding.&nbsp;&nbsp;Always works.<br>
<br>
When you start editing that 16-bit Unicode file, and it has a BOM, Vim will<br>
detect this and convert the file to utf-8 when reading it.&nbsp;&nbsp;The&nbsp;<a class="Type" href="options.html#'fileencoding'">'fileencoding'</a><br>
option (without s at the end) is set to the detected value.&nbsp;&nbsp;In this case it<br>
is &quot;utf-16le&quot;.&nbsp;&nbsp;That means it's Unicode, 16-bit and little-endian.&nbsp;&nbsp;This<br>
file format is common on MS-Windows (e.g., for registry files).<br>
&nbsp;&nbsp; When writing the file, Vim will compare&nbsp;<a class="Type" href="options.html#'fileencoding'">'fileencoding'</a>&nbsp;with&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.&nbsp;&nbsp;If<br>
they are different, the text will be converted.<br>
&nbsp;&nbsp; An empty value for&nbsp;<a class="Type" href="options.html#'fileencoding'">'fileencoding'</a>&nbsp;means that no conversion is to be done.<br>
Thus the text is assumed to be encoded with&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.<br>
<br>
If the default&nbsp;<a class="Type" href="options.html#'fileencodings'">'fileencodings'</a>&nbsp;value is not good for you, set it to the<br>
encodings you want Vim to try.&nbsp;&nbsp;Only when a value is found to be invalid will<br>
the next one be used.&nbsp;&nbsp;Putting &quot;latin1&quot; first doesn't work, because it is<br>
never illegal.&nbsp;&nbsp;An example, to fall back to Japanese when the file doesn't<br>
have a BOM and isn't utf-8:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set fileencodings=ucs-bom,utf-8,sjis</div>
<br>
See&nbsp;<a class="Identifier" href="mbyte.html#encoding-values">encoding-values</a>&nbsp;for suggested values.&nbsp;&nbsp;Other values may work as well.<br>
This depends on the conversion available.<br>
<br>
<br>
FORCING AN ENCODING<br>
<br>
If the automatic detection doesn't work you must tell Vim what encoding the<br>
file is.&nbsp;&nbsp;Example:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit ++enc=koi8-r russian.txt</div>
<br>
The &quot;++enc&quot; part specifies the name of the encoding to be used for this file<br>
only.&nbsp;&nbsp;Vim will convert the file from the specified encoding, Russian in this<br>
example, to&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.&nbsp;&nbsp;<a class="Type" href="options.html#'fileencoding'">'fileencoding'</a>&nbsp;will also be set to the specified<br>
encoding, so that the reverse conversion can be done when writing the file.<br>
&nbsp;&nbsp; The same argument can be used when writing the file.&nbsp;&nbsp;This way you can<br>
actually use Vim to convert a file.&nbsp;&nbsp;Example:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:write ++enc=utf-8 russian.txt</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Conversion may result in lost characters.&nbsp;&nbsp;Conversion from an encoding<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to Unicode and back is mostly free of this problem, unless there are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;illegal characters.&nbsp;&nbsp;Conversion from Unicode to other encodings often<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loses information when there was more than one language in the file.<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_45.html#45.5" name="45.5">45.5</a>&nbsp;&nbsp;Entering language text<br>
<br>
Computer keyboards don't have much more than a hundred keys.&nbsp;&nbsp;Some languages<br>
have thousands of characters, Unicode has over hundred thousand.&nbsp;&nbsp;So how do<br>
you type these characters?<br>
&nbsp;&nbsp; First of all, when you don't use too many of the special characters, you<br>
can use digraphs.&nbsp;&nbsp;This was already explained in&nbsp;<a class="Identifier" href="usr_24.html#24.9">24.9</a>.<br>
&nbsp;&nbsp; When you use a language that uses many more characters than keys on your<br>
keyboard, you will want to use an Input Method (IM).&nbsp;&nbsp;This requires learning<br>
the translation from typed keys to resulting character.&nbsp;&nbsp;When you need an IM<br>
you probably already have one on your system.&nbsp;&nbsp;It should work with Vim like<br>
with other programs.&nbsp;&nbsp;For details see&nbsp;<a class="Identifier" href="mbyte.html#mbyte-XIM">mbyte-XIM</a>&nbsp;for the X Window system and<br>
<a class="Identifier" href="mbyte.html#mbyte-IME">mbyte-IME</a>&nbsp;for MS-Windows.<br>
<br>
<br>
KEYMAPS<br>
<br>
For some languages the character set is different from latin, but uses a<br>
similar number of characters.&nbsp;&nbsp;It's possible to map keys to characters.&nbsp;&nbsp;Vim<br>
uses keymaps for this.<br>
&nbsp;&nbsp; Suppose you want to type Hebrew.&nbsp;&nbsp;You can load the keymap like this:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set keymap=hebrew</div>
<br>
Vim will try to find a keymap file for you.&nbsp;&nbsp;This depends on the value of<br>
<a class="Type" href="options.html#'encoding'">'encoding'</a>.&nbsp;&nbsp;If no matching file was found, you will get an error message.<br>
<br>
Now you can type Hebrew in Insert mode.&nbsp;&nbsp;In Normal mode, and when typing a &quot;:&quot;<br>
command, Vim automatically switches to English.&nbsp;&nbsp;You can use this command to<br>
switch between Hebrew and English:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-^</div>
<br>
This only works in Insert mode and Command-line mode.&nbsp;&nbsp;In Normal mode it does<br>
something completely different (jumps to alternate file).<br>
&nbsp;&nbsp; The usage of the keymap is indicated in the mode message, if you have the<br>
<a class="Type" href="options.html#'showmode'">'showmode'</a>&nbsp;option set.&nbsp;&nbsp;In the GUI Vim will indicate the usage of keymaps with<br>
a different cursor color.<br>
&nbsp;&nbsp; You can also change the usage of the keymap with the&nbsp;<a class="Type" href="options.html#'iminsert'">'iminsert'</a>&nbsp;and<br>
<a class="Type" href="options.html#'imsearch'">'imsearch'</a>&nbsp;options.<br>
<br>
To see the list of mappings, use this command:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lmap</div>
<br>
To find out which keymap files are available, in the GUI you can use the<br>
Edit/Keymap menu.&nbsp;&nbsp;Otherwise you can use this command:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:echo globpath(&amp;rtp, &quot;keymap/*.vim&quot;)</div>
<br>
<br>
DO-IT-YOURSELF KEYMAPS<br>
<br>
You can create your own keymap file.&nbsp;&nbsp;It's not very difficult.&nbsp;&nbsp;Start with<br>
a keymap file that is similar to the language you want to use.&nbsp;&nbsp;Copy it to the<br>
&quot;keymap&quot; directory in your runtime directory.&nbsp;&nbsp;For example, for Unix, you<br>
would use the directory &quot;~/.vim/keymap&quot;.<br>
&nbsp;&nbsp; The name of the keymap file must look like this:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">keymap/{name}.vim</span><br>
or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">keymap/{name}_{encoding}.vim</span><br>
<br>
<span class="Special">{name}</span>&nbsp;is the name of the keymap.&nbsp;&nbsp;Chose a name that is obvious, but different<br>
from existing keymaps (unless you want to replace an existing keymap file).<br>
<span class="Special">{name}</span>&nbsp;cannot contain an underscore.&nbsp;&nbsp;Optionally, add the encoding used after<br>
an underscore.&nbsp;&nbsp;Examples:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">keymap/hebrew.vim</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">keymap/hebrew_utf-8.vim</span><br>
<br>
The contents of the file should be self-explanatory.&nbsp;&nbsp;Look at a few of the<br>
keymaps that are distributed with Vim.&nbsp;&nbsp;For the details, see&nbsp;<a class="Identifier" href="mbyte.html#mbyte-keymap">mbyte-keymap</a>.<br>
<br>
<br>
LAST RESORT<br>
<br>
If all other methods fail, you can enter any character with&nbsp;<span class="Special">CTRL-V</span>:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">encoding&nbsp;&nbsp; type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8-bit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-V</span>&nbsp;123&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; decimal 0-255<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8-bit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-V</span>&nbsp;x a1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hexadecimal 00-ff<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16-bit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-V</span>&nbsp;u 013b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hexadecimal 0000-ffff<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31-bit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-V</span>&nbsp;U 001303a4&nbsp;&nbsp;&nbsp;&nbsp;hexadecimal 00000000-7fffffff<br>
<br>
Don't type the spaces.&nbsp;&nbsp;See&nbsp;<a class="Identifier" href="insert.html#i_CTRL-V_digit">i_CTRL-V_digit</a>&nbsp;for the details.<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
Next chapter:&nbsp;<a class="Identifier" href="usr_46.html">usr_46.txt</a>&nbsp;&nbsp;Write plugins using Vim9 script<br>
<br>
Copyright: see&nbsp;<a class="Identifier" href="usr_01.html#manual-copyright">manual-copyright</a>&nbsp;&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
